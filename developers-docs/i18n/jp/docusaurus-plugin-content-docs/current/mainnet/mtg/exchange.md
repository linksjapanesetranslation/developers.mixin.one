---
title: 取引
sidebar_position: 11
---

# 取引

MTGを基盤とした次世代の高性能分散型オンチェーン取引所は、高性能、低遅延、資産の分離、マルチシグネチャによる共同管理、オンチェーン取引のチェックとトラッキングが可能、即時メーカーオーダー、取引時のガス代がゼロなどの特徴を備えています。

### 優位性

- 分散化とセキュリティ
  
  Mixinメインネットに保護され、メーカーオーダー資産とウォレット資産が独立しているため、資産集中のリスクが軽減されます。コールドウォレットとホットウォレットの分離や最大255名のマルチシグネチャによる共同管理により、預かり資産は十分に保護されています。マッチングエンジンは255台のノードサーバーに搭載可能です。

- 透明性
  
  コードは完全にオープンソースで、第三者機関により監査されています。取引はオンチェーンで記録され、チェックと追跡が可能な状態に保たれてます。

- 高性能
  
  分散型マッチングエンジンは、高性能なノードサーバーに配置することで、ユーザーに低遅延かつ効率的な取引サービスを提供することができます。

- 強靭性

  様々なクロスチェーンアセットにも対応しており、ガス代やインスタントメーカー注文、多くのユーザーに対応できるスケーラビリティも備えています。

### ステップ

- 分散型マルチシグネチャ組織

  マルチシグネチャ組織の仕事は、主にDappプログラムのアセット共同管理、レビュー、展開、ガバナンスなどに参加することです。複数の著名なチームや企業を束ねて分散型マルチシグネチャ組織を形成したり、暗号資産を発行して投票による分散型の自律組織を形成したりすることができます。例えば、5つのノードがある資産を共同管理する場合、資産を動かすには3つのノードの署名が必要である等の合意形成の設定などが可能です。合意形成の閾値は、`3/5`、`4/7`...`171/255`といったように、一般的にノードの3分の2を設定します。

- 分散型取引所の開発
  
  1. 開発環境: Go、Java、PHPなどのプログラミング言語と、MySQL、PostgreSQL、MongoDBなどのデータベースシステムを扱える必要があります。

  2. マッチング・エンジン: メーカー、テイカーの注文や注文のキャンセルは転送によって実現され、ユーザー資産は効果的に隔離され、取引はオンチェーンで記録されるため透明性が向上します。ノードは、関連するUTXOトランザクションを継続的に同期させる必要があります。担保融資と借入の操作は、トランザクションの`Memo`に従って別々に処理されます。すべての操作は検証される必要があり、データはデータベースに記録されるのに十分なノードによって署名される必要があります。また、すべての操作はMixinメインネットのマルチシグネチャを開始する必要があり、操作タイプ、金額などのMemo情報を含む、以下のようなフォーマットになっています。（データを圧縮するためにMessagePack + base64を使用することが推奨されます）

  ```golang
  memo = base64.StdEncoding.EncodeToString(msgpack(OrderAction{
    T: "L",                                    // Limit Order
    P: "0.1",                                  // Price
    S: "B",                                    // Purchase Order
    A: uuid.FromString("c94ac88f-4671-3976-b60a-09064f1811e8"), // Asset ID
  }))
  ```

  3. 資産管理: すべての資産はノードのマルチシグネチャで管理され、ユーザーのメーカーオーダー資産はマルチシグネチャのアドレスに直接保存され、オーダーの取得とキャンセルはほとんどのノードでウォレットの確認が必要です。

  4. フロントエンド開発: フロントエンドを開発し、ウォレットユーザーが直接マッチングエンジンに転送してメーカーオーダーを出したり、資産を預けない方が安全であるからという理由でオーダーを受けたりできるようにすることも可能です。

- セキュリティ対策

  1. マルチシグネチャによる資産管理やコールドウォレットとホットウォレットの分離により、リスクへの対応力をさらに高めることができます。このような対策を行うことで、予測不可能なリスクによる損失規模を抑えることが可能です。

  2. すべてのノードは、潜在リスクを減らすために、独立してDappコードをレビューする必要があります。また、すべてのノードには資産管理に対する権利と義務があります。

  3. ノードを運営するチームは密に連絡を取り合う必要があります。問題が見つかれば、その時点でサービスを停止し、新しいコードをデプロイして迅速に問題を修正することができます。

- ガバナンス

 　　分散型マルチシグネチャ組織では、取引ペアの順序や手数料などの提案を投票によって決定しています。

---
MTGリファレンスコード: https://github.com/MixinNetwork/trusted-group .テクニカルサポートへのお問い合わせは、[Mixin Messenger](https://w3c.group/c/1609251387450619)でMixin ID：`762532`を検索してください。
